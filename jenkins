pipeline {
	agent none
	 stages {
	    stage('MAIN') {
	        parallel {
                   stage('build') {
		    agent { label 'master' }
		    steps { 
		      sh '''
		         #!/bin/bash
		         pwd
		         ls
		         echo " this is build stage "
		        '''
		       }
		   }
 	     stage('deploy') {
	         agent { label 'master' }
	         steps {
		   git branch: 'main', url: 'https://github.com/vijaybc98/c-project.git'
                     echo "this is a deploy stage"
	               }
	           }
             stage('testing') {
	          agent { label 'slave1' }
                  steps {
                       sh 'echo "this is a testing stage"'
                       }
                   }
		}
              }
	   }
	}
