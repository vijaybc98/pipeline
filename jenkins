pipeline {
	agent none
	
	environment {
	 BRANCH = 'main'
	 GIT-REPO = 'https://github.com/vijaybc98/c-project.git'
	}
	
	stages {
            stage('build') {
		 agent { label 'master' }
		  environment {
                   BUILD-ENV = 'only_for_build_stage'
                  }
		 steps { 
		      git branch: " $BRANCH ", url: " $GIT-REPO "
		      sh '''
		       #!/bin/bash
		        pwd 
			ls
			'''
		 }
            }
 	     stage('deploy') {
	         agent { label 'slave1' }
	         steps {
                     echo "this is a deploy stage"
		     echo "$BRANCH"
		     echo "$BUILD-ENV"
	          }
	      }
          }
      }
   

	
	
                 
